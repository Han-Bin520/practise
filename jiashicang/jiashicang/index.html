<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/kindinf.css">
</head>

<body>
    <!-- 头部-->
    <header>
        <h1>数据后台</h1>
    </header>
    <!--主体盒子 -->
    <!--  整个盒子 分为 3 5 3 -->
    <section class="mainbox">
        <div class="clumn-item">
            <!-- //柱形图 -->
            <div class="panel bar">
                <h2>类别图片数据</h2>
                <div class="chert">

                </div>
                <div class="panel-footer"></div>
            </div>
            <div class="panel pie">
                <h2>图片下载数据</h2>
                <div class="chert">

                </div>
                <div class="panel-footer"></div>
            </div>
        </div>
        <div class="clumn-item">
            <!-- 地图模块 -->
            <!-- <div id="container">
                <canvas id="itemfont"></canvas>
               </div> -->
            <div class="no">
                <!-- 外层盒子 -->
                <div class="no-wai">
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <div class="no-size">6</div>
                        <!-- <h2>1</h2> -->
                        <div class="no-ford"></div>
                    </div>
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <!-- <div>1</div> -->
                        <div class="no-size">7</div>
                        <div class="no-ford"></div>
                    </div>
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <div class="no-size">2</div>
                        <div class="no-ford"></div>
                    </div>
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <div class="no-size">3</div>
                        <div class="no-ford"></div>
                    </div>
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <div class="no-size">1</div>
                        <div class="no-ford"></div>
                    </div>
                </div>
            </div>

            <!-- 这个是 -->
            <div class="map maps">

                <div class="map1"></div>
                <div class="map-icon">
                    <div class="laifang">今日来访人数:</div>
                    <div class="laifang-item">5231232</div>
                </div>
                <div class="map-icon-fo">
                    <div class="laifang lantiao">平均停留时长:</div>
                    <div class="laifang-item">00:30:23</div>
                </div>
                <div class="map2">
                </div>
                <div class="map3">
                </div>
                <div class="chart-item">

                </div>
                <div class="chart">

                </div>

            </div>
            <div class="juxing">

                <div class="juxing-box">
                    <div class="juxing-item">
                        <div class="juxing-list">
                            <div class="item-i">
                                <div></div>
                                <div class="item-p">图片名称</div>
                                <div></div>
                                <div class="item-q">下载次数</div>
                            </div>
                            <div class="scrollNews">
                                <ul id="p1">
                                    <li>
                                        <div class="item-box" v-for="item in getloaditem">
                                             <div class="item-box-png">
                                                {{item}}
                                            </div>
                                            <div class="item-ju" style="width: 60%; color:#fff;">
                                                {{item}}                                          
                                           </div>
                                            <div style="width: 20%; color:#fff;" class="item-num">
                                            {{item}}   
                                           </div>
                                            <div class="xiaojiantou">
                                                <img src="images/icon/shangjiantou.png" alt="">
                                            </div>
                                        </div>
                                    </li>
                                    <!-- <li>
                                    <div class="item-box"  id="userData">
                                        <div class="item-box-png">
                                            <img src="images/icon/zu2.png" alt="" class="item-zu1">
                                        </div>
                                        <div class="item-ju" style="width: 60%;color:#fff;">
                                            id455652122红色春节什么的
                                        </div>
                                        <div style="width: 20%;color:#fff;" class="item-num">123456</div>
                                        <div class="xiaojiantou">
                                            <img src="images/icon/shangjiantou1.png" alt="">
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="item-box"  id="userData">
                                        <div class="item-box-png">
                                            <img src="images/icon/zu3.png" alt="" class="item-zu1">
                                        </div>
                                        <div class="item-ju" style="width: 60%;color:#fff;">
                                            id455652122红色春节什么的
                                        </div>
                                        <div style="width: 20%;color:#fff;" class="item-num">123456</div>
                                        <div class="xiaojiantou">
                                            <img src="images/icon/xaijiantou.png" alt="">
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="item-box"  id="userData">
                                        <div class="item-box-png">
                                            <img src="images/icon/zu4.png" alt="" class="item-zu1">
                                        </div>
                                        <div class="item-ju" style="width: 60%;color:#fff;">
                                            id455652122红色春节什么的
                                        </div>
                                        <div style="width: 20%;color:#fff;" class="item-num">123456</div>
                                        <div class="xiaojiantou">
                                            <img src="images/icon/shangjiantou2.png" alt="">
                                        </div>
                                    </div>
                                </li> -->
                                </ul>
                            </div>
                        </div>

                    </div>
                    <!-- 这个地方是魔板 -->
                    <div class="juxing-item mapts">
                        <div class="cherts"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="clumn-item">
            <div class="panel line">
                <div class="hiver">
                    <div class="panel-x">
                        <h2 class="h2-it">每月图片销量 </h2>
                    </div>
                    <div class="panel-y">
                        <a href="javascript:;" class="month" id="btn1" onclick="btn(1)">今日</a>
                        <a href="javascript:;" class="year" id="btn2" onclick="btn(2)">未来七天</a>
                    </div>
                </div>

                <div class="chert">

                </div>
                <div class="cherrt">

                </div>
                <div class="panel-footer"></div>
            </div>
            <div class="panel bing item-bin">
                <!-- <h2>图片上传数量</h2> -->
                <div class="list-box">
                    <!-- 包裹着两个小的div -->
                    <div class="list-item-box">
                        <div></div>
                        <div class="list-item-ming">图片名称</div>
                        <div></div>
                        <div class="list-item-xiazai">下载次数</div>
                    </div>
                    <!-- 四个小容器 -->
                    <ul class="slide-list js-slide-list">
                        <li class="odd">
                            <div class="lis-box-small">
                                <div class="lis-box-png">
                                    <img src="images/icon/zu1.png" alt="">
                                </div>
                                <div>
                                    晚上可以和我吃宵夜吗?
                                </div>
                                <div>
                                    晚上十点
                                </div>
                                <div>
                                    <img src="images/icon/shangjiantou.png" alt="">
                                </div>
                            </div>
                        </li>
                        <li class="even">
                            <div class="lis-box-small">
                                <div class="lis-box-png">
                                    <img src="images/icon/zu1.png" alt="">
                                </div>
                                <div>
                                    晚上可以和我吃宵夜吗?
                                </div>
                                <div>
                                    晚上十点
                                </div>
                                <div>
                                    <img src="images/icon/shangjiantou.png" alt="">
                                </div>
                            </div>
                        </li>
                        <li class="even">
                            <div class="lis-box-small">
                                <div class="lis-box-png">
                                    <img src="images/icon/zu1.png" alt="">
                                </div>
                                <div>
                                    晚上可以和我吃宵夜吗?
                                </div>
                                <div>
                                    晚上十点
                                </div>
                                <div>
                                    <img src="images/icon/shangjiantou.png" alt="">
                                </div>
                            </div>
                        </li>
                        <li class="even">
                            <div class="lis-box-small">
                                <div class="lis-box-png">
                                    <img src="images/icon/zu1.png" alt="">
                                </div>
                                <div>
                                    晚上可以和我吃宵夜吗?
                                </div>
                                <div>
                                    晚上十点
                                </div>
                                <div>
                                    <img src="images/icon/shangjiantou.png" alt="">
                                </div>
                            </div>
                        </li>
                        <li class="even">
                            <div class="lis-box-small">
                                <div class="lis-box-png">
                                    <img src="images/icon/zu1.png" alt="">
                                </div>
                                <div>
                                    晚上可以和我吃宵夜吗?
                                </div>
                                <div>
                                    晚上十点
                                </div>
                                <div>
                                    <img src="images/icon/shangjiantou.png" alt="">
                                </div>
                            </div>
                        </li>
                        <li class="even">
                            <div class="lis-box-small">
                                <div class="lis-box-png">
                                    <img src="images/icon/zu1.png" alt="">
                                </div>
                                <div>
                                    晚上可以和我吃宵夜吗?
                                </div>
                                <div>
                                    晚上十点
                                </div>
                                <div>
                                    <img src="images/icon/shangjiantou.png" alt="">
                                </div>
                            </div>
                        </li>
                    </ul>

                </div>
                <div class="panel-footer"></div>
            </div>
        </div>
    </section>
    <script src="js/flexible.js"></script>
    <script src="js/jquery.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="api/api.js"></script>
    <script src="js/echarts.min.js"></script>
    <!-- 引入jquery -->
    <!-- 使用第三方脚本 -->
    <script src="js/chartup.js"></script>
    <!-- button -->
    <script src="js/buttonTabber/Tabber.js"></script>
    <script src="js/bmap.min.js"></script>
    <script src="js/china.js"></script>
    <!-- <script src="js/echarts-gl.js"></script> -->
    <script src="js/d3-geo.js"></script>
    <script src="js/d3-timer.js"></script>
    <script src="js/d3-contour.js"></script>
    <!--  ajax-axios 请求 -->




    <script src="js/countup.js"></script>
    <script src="js/index.js"></script>
    <script src="libs/three.min.js"></script>
    <script src="libs/OrbitControls.js"></script>
    <!-- <script src="./libs/echarts.min.js"></script> -->
    <script src="data/world.js"></script>
    <script src="data/population.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        var vm = new Vue({
            el: '.mainbox',
            data:{
                getloaditem: [
                   {
                   }
                ], //数据模型
            },
            created:function() {
                
            },
            mounted:function(){
                this.getloadfun();
                // console.log(this.getloaditem,"我是谁在哪里");
            },
            methods:{
                getloadfun:function() {
                    // alert(this.getloaditem);
                    server.get( '/getTopTenWord',{

                    }).then( res =>{
                        // console.log(res);
                        this.getloaditem = res.data.data;
                        console.log(this.getloaditem,"打印一下")
                    })
                }
                // 在这里呢
            //     getloadfun:function() {
            //        let dataliver= server.get('/getTopTenWord', {
            //             //黑的是是啥 渲染的数据,格式不对不知道为啥,哪个是从后台获取的,
            //             //黑色的是从后台获取的,
            //         }).then(res => {
            //             // 这个是渲染的
            //             alert("我是傻逼")
            //             console.log( res.data.data,"获取数据");
            //             if (res) {
            //                 var getloaditem = res.data.data;  //对象数组
            //                 var stritem = '' //数据模型赋值
            //                 console.log(getloaditem, "获取了吗渲染列表"); 
            //             }//这个是数据源
            //                 getloaditem.forEach(function (item, index) {
            //                     // console.log(item);
            //                     // console.log(index);
            //                     // 渲染页面 //这个是拼接的字符串,小哥
            //     //                 stritem += `<div>
            //     // <div>${getloaditem[index]}</div> 
            //     // </div>`
            //     //                 $('.item-box').append(stritem);
            //                 })
            //                 console.log("9999" + stritem);
            //                 // 我想渲染成那样,不知道为啥不行小哥
            //                 // 结构也没有问题

                        

            //         })
            //     }

            }
        })
        // 确定index值
        // function btn(index){
        //     console.log(index);
        // }

        // 这个是全局的,建议你把这个请求数据写到图标的
        var getAgeitem = [];
        // console.log(getAgeitem,"点击调用数据");

        // window.onload=function(){
        //     // btn();


        // }; 
        var that = this;
        setTimeout(function () {
            that.aa();
        }, 5000);//复制到这个函数外面去这一排,主要是这个延迟没有生效,
        //可以了
        setTimeout(function () {
            that.bb();
        }, 5000);

        setTimeout(() => {
            that.cc();
        }, 5000);

        setTimeout(() => {
            that.dd();
        }, 5000);
        setTimeout(()=>{
            that.ee();
        },5000)
        let datafons = server.get('/getAge', {
        }).then(res => {
            // console.log( res.data.data);
            this.getAgeitem = res.data.data;
            // 开始吧
            // 这儿都已经赋值成功了
            console.log(this.getAgeitem,"点击调用数据");
        }).catch(error => {
            console.error("请求失败")
        })

        //  渲染饼状图
        var getSourceAnalysisitem = []
        let data = server.get('/getSourceAnalysis', {
        }).then(res => {
            // console.log( res.data.data);
            var strarray = res.data.data;
            
                strarray.forEach( function( item ){
                    this.getSourceAnalysisitem.push({
                        value:item[0],
                        name:item[1],
                    })
                })
            console.log(this.getSourceAnalysisitem,"数据结构")
        })
        //渲染中间左的数据
        let datalist = server.get('/getTopTenWord', {
            //黑的是是啥 渲染的数据,格式不对不知道为啥,哪个是从后台获取的,
            //黑色的是从后台获取的,
        }).then(res => {
            // 这个是渲染的
            // console.log( res.data.data);
            // if (res) {
            //     var getloaditem = res.data.data;  //对象数组
            //     var stritem = '' //数据模型赋值
            //     console.log(getloaditem, "获取了吗渲染列表"); //这个是数据源
            //     getloaditem.forEach(function (item, index) {
            //         // console.log(item);
            //         // console.log(index);
            //         // 渲染页面 //这个是拼接的字符串,小哥
            //         stritem += `<div>
            //     <div>${getloaditem[index]}</div> 
            //     </div>`
            //         $('.item-box').append(stritem);
            //     })
            //     console.log("9999" + stritem);
                // 我想渲染成那样,不知道为啥不行小哥
                // 结构也没有问题

        })

        // 渲染中间靠右的数据
        var getdataitem = []; //x轴
        var getgooditem = []; //Y轴
        let dataitem = server.get('/getBdIndex', {

        }).then(res => {
            this.getdataitemtodate = res.data.data.todat_date;
            this.getdataitemyes = res.data.data.yestodayDate;
            this.getdataitem = res.data.data[0]; //今日
            this.getgooditem = res.data.data[1]; //未来七天的
            // console.log("获取渲染数据的数据",this.getdataitem);
            // console.log("获取数据接口的数据", this.getgooditem);
        })
        // 渲染右上
        var getshowTodaydata = [];//x轴
        var getshowyeardaydatalst = [];//y轴
        var getitemdata = [];
        let getTimedata = server.get('/getTimeTrendRpt', {
            params: {
                date: 'today',
                // today:'今天',
            }
        }).then(res => {
            // this.getitemdata = res.data.data;
            var todayitem=res.data.data.today;
            for( var i=0; i<todayitem.length; i++){
                todayitem[i]= todayitem[i][0] === "--" ? 0:todayitem[i][0]
            }
            console.log(todayitem,"打印一下");
            this.getshowTodaydata = todayitem;
            // console.log("jintians" + getshowTodaydata);
            var todayitemdata =res.data.data.yestoday
            for( var i=0; i<todayitemdata.length; i++){
                todayitemdata[i]= todayitemdata[i][0] === "--" ? 0:todayitemdata[i][0]
            }
            console.log(todayitemdata,"打印一下");
            this.getshowyeardaydatalst = todayitemdata;
            // this.getshowyeardaydatalst = ;

            // console.log(getshowyeardaydatalst, "获取过去七天的数据");
            // console.log(getshowTodaydata, "渲染数据成功了" );
            // console.log(getshowyeardaydatalst,"渲染未来七天的");
        })
        // 过去七天的
        var getTimelongitem = [];
        let getTimedatafun = server.get('/getTimeTrendRpt', {
            params: {
                date: 'seven',
            }
        }).then(res => {
            this.getTimelongitem= res.data.data.data;
            // console.log(getTimelong,"获取一下");
            // for( var n=0; n<getTimelong.length; n++){
            //     getTimelong[n]= getTimelong[n][0] === "--" ? 0:getTimelong[n][0]
            // }
            // console.log(getTimelong,"获取一下");
            // this.getTimelongitem 
            // console.log(getTimelongitem, "获取未来七天的")
        })

        // 柱状图



// function onWindowResize() {

//     camera.aspect = window.innerWidth / window.innerHeight;
//     camera.updateProjectionMatrix();

//     renderer.setSize( window.innerWidth, window.innerHeight );

// }

// function animate() {

//     requestAnimationFrame( animate );       // 循环渲染

//     controls.update();

//     render();

// }

// function render() {

//     // 平行光始终从相机位置照向地球
//     directionalLight.position.copy( camera.position )
//     renderer.render( scene, camera );

// }
    </script>
</body>

</html>