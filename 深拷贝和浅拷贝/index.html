<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /*深拷贝：修改变量的值不会影响原来变量的值
    默认情况下基本数据类型都是深拷贝

    浅拷贝：修改变量的值会影响原来变量的值
    默认情况下引用类型都是浅拷贝
    *
    * */
    
    //深拷贝
   /* let a = 123;
    let b = a;
    b = 645;
    console.log(a);
    console.log(b);*/

    
    // 浅拷贝
   /* class Person{
        name="tom";
        age =34;
    }
    let p1 = new Person();
    let p2 = p1;
    p2.name = "zs";
    console.log(p1.name);
    console.log(p2.name);*/

    // 浅拷贝
    class Person{
        name = "lnj";
        cat = {
            age : 3
        };
        scores = [1, 3, 5];
    }
    let p1 = new Person();
    let p2 = new Object();


    depCopy(p2, p1);
    p2.cat.age = 666;
    console.log(p1.cat.age);
    console.log(p2.cat.age);

    //对象深拷贝
    function depCopy(t,s) {
        //遍历对象的属性
        for(let key in s){
            // console.log(key);
            let sValue = s[key];
            // console.log(sValue);
            if (sValue instanceof Object){
                let sTarget =new sValue.constructor;
                t[key] = sTarget;
                depCopy(sTarget,sValue);
            }else {
                t[key] =sValue;
            }
        }
    }
</script>
</body>
</html>